<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AeroShare - AI-Powered Smart File Transfer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            /* UPDATED: Midnight blue gradient background */
            background: linear-gradient(135deg, #020617 0%, #0f172a 100%);
            min-height: 100vh;
            color: white;
        }

        .app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.05); /* Slightly less bright for dark mode */
            backdrop-filter: blur(10px);
            padding: 20px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            /* UPDATED: Flex properties to center logo and text */
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        /* ADDED: Logo styling */
        .logo {
            width: 140px; /* Adjust size as needed */
            height: 140px;
            margin-bottom: 10px;
        }

        .title {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, #fff, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }

        .main-content {
            flex: 1;
            display: flex;
            padding: 20px;
            gap: 20px;
        }

        .sidebar {
            width: 300px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: fit-content;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            border: none;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 10px;
            width: 100%;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .content-area {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
        }

        .dashboard {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 20px;
            animation: fadeInUp 0.5s ease-out;
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            /* UPDATED: New blue gradient for icons */
            background: linear-gradient(135deg, #0ea5e9, #2563eb);
            color: white;
            font-size: 24px;
        }

        .stat-content {
            flex: 1;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 5px;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .upload-area {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 60px 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.02);
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 0;
        }

        .upload-area:hover {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.05);
        }

        .upload-icon {
            font-size: 3rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 20px;
        }

        .upload-text {
            color: white;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .upload-subtext {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .voice-area {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .voice-icon {
            width: 120px;
            height: 120px;
            border-radius: 50%;
             /* UPDATED: New blue gradient for icons */
            background: linear-gradient(135deg, #0ea5e9, #2563eb);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 48px;
        }

        .voice-icon:hover {
            transform: scale(1.05);
        }

        .voice-icon.listening {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            animation: pulse 1s infinite;
        }

        .voice-text {
            color: white;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .transcript-area {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            min-height: 100px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .transcript-text {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            line-height: 1.5;
        }

        .commands-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .command-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .command-text {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .command-desc {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            margin-left: auto;
        }

        .status-indicator.offline {
            background: #ef4444;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .hidden {
            display: none;
        }

        .section-title {
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0 0 20px 0;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.6);
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-text {
            font-size: 1.1rem;
        }

        /* Transfer Mode Styles */
        .transfer-modes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .mode-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .mode-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .mode-title {
            color: white;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .mode-desc {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .transfer-section {
            margin-top: 30px;
        }

        .subsection-title {
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .code-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .code-display {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .code-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            font-weight: 500;
        }

        .code-value {
            background: rgba(0, 0, 0, 0.3);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 2px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-width: 120px;
            text-align: center;
        }

        .code-btn, .connect-btn {
            background: linear-gradient(135deg, #0ea5e9, #2563eb);
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .code-btn:hover, .connect-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
        }

        .code-info {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .info-item, .status-item {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .code-input-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            color: white;
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 10px;
            display: block;
        }

        .code-input-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .code-input-container input {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 12px 20px;
            color: white;
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-align: center;
            font-family: 'Courier New', monospace;
            width: 150px;
        }

        .code-input-container input:focus {
            outline: none;
            border-color: #0ea5e9;
            box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
        }

        .connection-status {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .received-files {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .file-received-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 15px;
            animation: fadeInUp 0.5s ease-out;
        }

        .file-received-icon {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            background: linear-gradient(135deg, #10b981, #059669);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .file-received-info {
            flex: 1;
        }

        .file-received-name {
            color: white;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .file-received-size {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        .download-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <img src="AeroSpace.png" alt="AeroShare Logo" class="logo">
            <h1 class="title">AeroShare</h1>
            <p class="subtitle">AI-Powered Smart File Transfer System</p>
        </header>

        <main class="main-content">
            <aside class="sidebar">
                <button class="nav-item active" onclick="showView('dashboard', this)">
                    üìä Dashboard
                </button>
                <button class="nav-item" onclick="showView('transfer', this)">
                    üì§ File Transfer
                </button>
                <button class="nav-item" onclick="showView('voice', this)">
                    üé§ Voice Assistant
                </button>
                <button class="nav-item" onclick="showView('ai', this)">
                    üß† AI Analytics
                </button>
                <button class="nav-item" onclick="showView('p2p', this)">
                    üë• P2P Network
                    <div class="status-indicator"></div>
                </button>
            </aside>

            <div class="content-area">
                <div id="dashboard" class="view">
                    <div class="dashboard">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">‚ö°</div>
                                <div class="stat-content">
                                    <div class="stat-value">3</div>
                                    <div class="stat-label">Active Transfers</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üß†</div>
                                <div class="stat-content">
                                    <div class="stat-value">12</div>
                                    <div class="stat-label">AI Predictions</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üë•</div>
                                <div class="stat-content">
                                    <div class="stat-value">5</div>
                                    <div class="stat-label">Connected Peers</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üìà</div>
                                <div class="stat-content">
                                    <div class="stat-value">15.2 MB/s</div>
                                    <div class="stat-label">Avg Speed</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üõ°Ô∏è</div>
                                <div class="stat-content">
                                    <div class="stat-value">2.1 GB</div>
                                    <div class="stat-label">Data Transferred</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">‚úÖ</div>
                                <div class="stat-content">
                                    <div class="stat-value">47</div>
                                    <div class="stat-label">Completed</div>
                                </div>
                            </div>
                        </div>

                        <div class="section-title">Recent Transfers</div>
                        <div class="empty-state">
                            <div class="empty-icon">üìÅ</div>
                            <div class="empty-text">No recent transfers. Start by uploading a file!</div>
                        </div>
                    </div>
                </div>

                <div id="transfer" class="view hidden">
                    <h2 class="section-title">File Transfer</h2>
                    
                    <!-- Transfer Mode Selection -->
                    <div class="transfer-modes">
                        <div class="mode-card" onclick="selectMode('send')">
                            <div class="mode-icon">üì§</div>
                            <div class="mode-title">Send File</div>
                            <div class="mode-desc">Share files with others using a unique code</div>
                        </div>
                        <div class="mode-card" onclick="selectMode('receive')">
                            <div class="mode-icon">üì•</div>
                            <div class="mode-title">Receive File</div>
                            <div class="mode-desc">Enter a code to receive files from others</div>
                        </div>
                    </div>

                    <!-- Send File Section -->
                    <div id="sendSection" class="transfer-section hidden">
                        <h3 class="subsection-title">üì§ Send Files</h3>
                        <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                            <div class="upload-icon">üì§</div>
                            <div class="upload-text">Drop files here or click to upload</div>
                            <div class="upload-subtext">Supports all file types with AI optimization</div>
                        </div>
                        <input type="file" id="fileInput" style="display: none;" multiple>
                        
                        <div class="code-section">
                            <div class="code-display">
                                <div class="code-label">Your Share Code:</div>
                                <div class="code-value" id="shareCode">Click "Generate Code" to start</div>
                                <button class="code-btn" onclick="generateShareCode()">Generate Code</button>
                            </div>
                            <div class="code-info">
                                <div class="info-item">üîí Code expires in: <span id="codeTimer">--:--</span></div>
                                <div class="info-item">üë• Waiting for receiver to connect...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Receive File Section -->
                    <div id="receiveSection" class="transfer-section hidden">
                        <h3 class="subsection-title">üì• Receive Files</h3>
                        <div class="code-input-section">
                            <div class="input-group">
                                <label for="receiveCode">Enter Share Code:</label>
                                <div class="code-input-container">
                                    <input type="text" id="receiveCode" placeholder="Enter 6-digit code" maxlength="6">
                                    <button class="connect-btn" onclick="connectToSender()">Connect</button>
                                </div>
                            </div>
                            <div class="connection-status" id="connectionStatus">
                                <div class="status-item">üîç Ready to connect...</div>
                            </div>
                        </div>
                        
                        <div class="received-files" id="receivedFiles">
                            <!-- Received files will appear here -->
                        </div>
                    </div>
                </div>

                <div id="voice" class="view hidden">
                    <h2 class="section-title">Voice Assistant</h2>
                    <div class="voice-area">
                        <div class="voice-icon" id="voiceIcon" onclick="toggleVoice()">
                            üé§
                        </div>
                        <div class="voice-text" id="voiceText">
                            Click to start voice commands
                        </div>
                        <div class="transcript-area">
                            <div class="transcript-text" id="transcriptText">
                                Your voice commands will appear here...
                            </div>
                        </div>
                    </div>
                    <div class="commands-list">
                        <div class="command-item">
                            <div class="command-text">"Show dashboard"</div>
                            <div class="command-desc">Navigate to main dashboard</div>
                        </div>
                        <div class="command-item">
                            <div class="command-text">"Start transfer"</div>
                            <div class="command-desc">Begin file transfer</div>
                        </div>
                        <div class="command-item">
                            <div class="command-text">"Show AI analytics"</div>
                            <div class="command-desc">View AI predictions</div>
                        </div>
                        <div class="command-item">
                            <div class="command-text">"Connect P2P"</div>
                            <div class="command-desc">Join peer-to-peer network</div>
                        </div>
                        <div class="command-item">
                            <div class="command-text">"Check status"</div>
                            <div class="command-desc">View transfer status</div>
                        </div>
                        <div class="command-item">
                            <div class="command-text">"Pause transfer"</div>
                            <div class="command-desc">Pause current transfers</div>
                        </div>
                    </div>
                </div>

                <div id="ai" class="view hidden">
                    <h2 class="section-title">AI Analytics & Visualization</h2>
                    <div class="voice-area">
                        <div style="font-size: 24px; margin-bottom: 20px;">üß† AI Performance Metrics</div>
                        <div class="transcript-area">
                            <div class="transcript-text">
                                Real-time AI performance charts and predictions visualization will be displayed here.
                                <br><br>
                                Features:
                                <br>‚Ä¢ Transfer time predictions
                                <br>‚Ä¢ Speed optimization algorithms
                                <br>‚Ä¢ Error correction patterns
                                <br>‚Ä¢ Performance analytics
                            </div>
                        </div>
                    </div>
                </div>

                <div id="p2p" class="view hidden">
                    <h2 class="section-title">P2P Network Manager</h2>
                    <div class="voice-area">
                        <div style="font-size: 24px; margin-bottom: 20px;">üë• Peer-to-Peer Network</div>
                        <div class="transcript-area">
                            <div class="transcript-text">
                                P2P network management interface for offline file transfers.
                                <br><br>
                                Features:
                                <br>‚Ä¢ Create/Join rooms
                                <br>‚Ä¢ Direct peer connections
                                <br>‚Ä¢ Offline file transfers
                                <br>‚Ä¢ Real-time connection status
                            </div>
                        </div>
                    </div>
                    <div class="empty-state">
                        <div class="empty-icon">üë•</div>
                        <div class="empty-text">No P2P connections yet. Create or join a room to start peer-to-peer transfers.</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let isListening = false;
        let currentMode = null;
        let shareCode = null;
        let codeTimer = null;
        let codeExpiryTime = null;

        // Transfer mode selection
        function selectMode(mode) {
            currentMode = mode;
            
            // Hide all sections
            document.getElementById('sendSection').classList.add('hidden');
            document.getElementById('receiveSection').classList.add('hidden');
            
            // Show selected section
            if (mode === 'send') {
                document.getElementById('sendSection').classList.remove('hidden');
                showNotification('Send mode selected. Upload files and generate a share code.', 'info');
            } else if (mode === 'receive') {
                document.getElementById('receiveSection').classList.remove('hidden');
                showNotification('Receive mode selected. Enter a share code to receive files.', 'info');
            }
        }

        // Generate unique share code
        function generateShareCode() {
            // Generate 6-digit code
            shareCode = Math.floor(100000 + Math.random() * 900000).toString();
            
            // Display the code
            document.getElementById('shareCode').textContent = shareCode;
            
            // Set expiry time (5 minutes)
            codeExpiryTime = Date.now() + (5 * 60 * 1000);
            
            // Start countdown timer
            startCodeTimer();
            
            // Update status
            document.querySelector('.code-info .info-item:last-child').textContent = 'üë• Share this code with the receiver';
            
            showNotification(`Share code generated: ${shareCode}`, 'success');
            
            // Simulate file upload if files are selected
            const fileInput = document.getElementById('fileInput');
            if (fileInput.files.length > 0) {
                simulateFileSharing();
            }
        }

        // Start countdown timer
        function startCodeTimer() {
            codeTimer = setInterval(() => {
                const now = Date.now();
                const remaining = codeExpiryTime - now;
                
                if (remaining <= 0) {
                    clearInterval(codeTimer);
                    document.getElementById('codeTimer').textContent = '00:00';
                    document.getElementById('shareCode').textContent = 'Code expired';
                    showNotification('Share code has expired', 'error');
                    return;
                }
                
                const minutes = Math.floor(remaining / 60000);
                const seconds = Math.floor((remaining % 60000) / 1000);
                document.getElementById('codeTimer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // Connect to sender using code
        function connectToSender() {
            const receiveCode = document.getElementById('receiveCode').value;
            
            if (!receiveCode || receiveCode.length !== 6) {
                showNotification('Please enter a valid 6-digit code', 'error');
                return;
            }
            
            // Update connection status
            const statusDiv = document.getElementById('connectionStatus');
            statusDiv.innerHTML = `
                <div class="status-item">üîç Connecting to sender...</div>
                <div class="status-item">üì° Code: ${receiveCode}</div>
            `;
            
            // Simulate connection
            setTimeout(() => {
                statusDiv.innerHTML = `
                    <div class="status-item">‚úÖ Connected to sender!</div>
                    <div class="status-item">üì• Waiting for files...</div>
                `;
                showNotification(`Connected to sender with code: ${receiveCode}`, 'success');
                
                // Simulate receiving files
                setTimeout(() => {
                    simulateFileReceiving();
                }, 2000);
            }, 1500);
        }

        // Simulate file sharing (sender side)
        function simulateFileSharing() {
            const files = document.getElementById('fileInput').files;
            const transferList = document.getElementById('transfer').querySelector('.transfer-list');
            
            if (!transferList) {
                const transferContainer = document.getElementById('transfer');
                const newTransferList = document.createElement('div');
                newTransferList.className = 'transfer-list';
                newTransferList.style.cssText = `
                    margin-top: 20px;
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                `;
                transferContainer.appendChild(newTransferList);
            }
            
            Array.from(files).forEach((file, index) => {
                createTransferCard(file, index);
            });
        }

        // Simulate file receiving (receiver side)
        function simulateFileReceiving() {
            const receivedFiles = document.getElementById('receivedFiles');
            
            // Sample files to simulate receiving
            const sampleFiles = [
                { name: 'document.pdf', size: 2048576, type: 'application/pdf' },
                { name: 'image.jpg', size: 1024000, type: 'image/jpeg' },
                { name: 'video.mp4', size: 15728640, type: 'video/mp4' }
            ];
            
            sampleFiles.forEach((file, index) => {
                setTimeout(() => {
                    createReceivedFileCard(file, index);
                }, index * 1000);
            });
            
            // Update status
            const statusDiv = document.getElementById('connectionStatus');
            statusDiv.innerHTML = `
                <div class="status-item">‚úÖ Files received successfully!</div>
                <div class="status-item">üìÅ ${sampleFiles.length} files available for download</div>
            `;
        }

        // Create received file card
        function createReceivedFileCard(file, index) {
            const receivedFiles = document.getElementById('receivedFiles');
            
            const card = document.createElement('div');
            card.className = 'file-received-card';
            
            const icon = document.createElement('div');
            icon.className = 'file-received-icon';
            icon.textContent = getFileIcon(file.type);
            
            const info = document.createElement('div');
            info.className = 'file-received-info';
            
            const name = document.createElement('div');
            name.className = 'file-received-name';
            name.textContent = file.name;
            
            const size = document.createElement('div');
            size.className = 'file-received-size';
            size.textContent = formatFileSize(file.size);
            
            const downloadBtn = document.createElement('button');
            downloadBtn.className = 'download-btn';
            downloadBtn.textContent = 'Download';
            downloadBtn.onclick = () => {
                showNotification(`Downloading ${file.name}...`, 'success');
                // In a real app, this would trigger actual download
            };
            
            info.appendChild(name);
            info.appendChild(size);
            
            card.appendChild(icon);
            card.appendChild(info);
            card.appendChild(downloadBtn);
            
            receivedFiles.appendChild(card);
            
            showNotification(`File received: ${file.name}`, 'success');
        }

        function showView(viewName, element) {
            // Hide all views
            const views = document.querySelectorAll('.view');
            views.forEach(view => view.classList.add('hidden'));

            // Show selected view
            document.getElementById(viewName).classList.remove('hidden');

            // Update navigation
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Add 'active' class to the button that was clicked
            element.classList.add('active');

        }

        function toggleVoice() {
            const voiceIcon = document.getElementById('voiceIcon');
            const voiceText = document.getElementById('voiceText');
            const transcriptText = document.getElementById('transcriptText');

            if (!isListening) {
                // Check if browser supports speech recognition
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    startVoiceRecognition();
                } else {
                    // Fallback simulation for browsers without speech recognition
                    simulateVoiceRecognition();
                }
            } else {
                stopVoiceRecognition();
            }
        }

        function startVoiceRecognition() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            
            recognition.continuous = true;
            recognition.interimResults = true;
            recognition.lang = 'en-US';

            const voiceIcon = document.getElementById('voiceIcon');
            const voiceText = document.getElementById('voiceText');
            const transcriptText = document.getElementById('transcriptText');

            recognition.onstart = () => {
                isListening = true;
                voiceIcon.classList.add('listening');
                voiceText.textContent = 'Listening... Click to stop';
                transcriptText.textContent = 'Listening for voice commands...';
                showNotification('Voice recognition started!', 'info');
            };

            recognition.onresult = (event) => {
                let finalTranscript = '';
                let interimTranscript = '';

                for (let i = event.resultIndex; i < event.results.length; i++) {
                    const transcript = event.results[i][0].transcript;
                    if (event.results[i].isFinal) {
                        finalTranscript += transcript;
                    } else {
                        interimTranscript += transcript;
                    }
                }

                transcriptText.textContent = finalTranscript || interimTranscript;
                
                // Process voice commands
                if (finalTranscript) {
                    processVoiceCommand(finalTranscript.toLowerCase());
                }
            };

            recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
                transcriptText.textContent = `Error: ${event.error}`;
                showNotification(`Voice recognition error: ${event.error}`, 'error');
                stopVoiceRecognition();
            };

            recognition.onend = () => {
                stopVoiceRecognition();
            };

            recognition.start();
            window.currentRecognition = recognition;
        }

        function stopVoiceRecognition() {
            const voiceIcon = document.getElementById('voiceIcon');
            const voiceText = document.getElementById('voiceText');
            
            isListening = false;
            voiceIcon.classList.remove('listening');
            voiceText.textContent = 'Click to start voice commands';
            
            if (window.currentRecognition) {
                window.currentRecognition.stop();
                window.currentRecognition = null;
            }
            
            showNotification('Voice recognition stopped', 'info');
        }

        function simulateVoiceRecognition() {
            const voiceIcon = document.getElementById('voiceIcon');
            const voiceText = document.getElementById('voiceText');
            const transcriptText = document.getElementById('transcriptText');

            isListening = true;
            voiceIcon.classList.add('listening');
            voiceText.textContent = 'Listening... Click to stop';
            transcriptText.textContent = 'Listening for voice commands...';
            
            showNotification('Voice recognition started! (Simulation mode)', 'info');
            
            // Simulate voice recognition with random commands
            const commands = [
                'show dashboard',
                'start transfer',
                'show ai analytics',
                'connect p2p',
                'check status',
                'pause transfer'
            ];
            
            setTimeout(() => {
                const randomCommand = commands[Math.floor(Math.random() * commands.length)];
                transcriptText.textContent = `Voice command detected: "${randomCommand}"`;
                processVoiceCommand(randomCommand);
            }, 2000);
        }

        function processVoiceCommand(command) {
            const transcriptText = document.getElementById('transcriptText');
            
            if (command.includes('dashboard')) {
                showView('dashboard', document.querySelector('[onclick*="dashboard"]'));
                showNotification('Navigating to dashboard', 'success');
            } else if (command.includes('transfer')) {
                showView('transfer', document.querySelector('[onclick*="transfer"]'));
                showNotification('Opening file transfer', 'success');
            } else if (command.includes('ai') || command.includes('analytics')) {
                showView('ai', document.querySelector('[onclick*="ai"]'));
                showNotification('Showing AI analytics', 'success');
            } else if (command.includes('p2p') || command.includes('peer')) {
                showView('p2p', document.querySelector('[onclick*="p2p"]'));
                showNotification('Opening P2P network', 'success');
            } else if (command.includes('status')) {
                showNotification('System status: All systems operational', 'info');
            } else if (command.includes('pause')) {
                showNotification('Transfers paused', 'info');
            } else {
                showNotification(`Command "${command}" not recognized. Try: dashboard, transfer, ai, p2p, status, pause`, 'info');
            }
        }

        // File upload handling
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const files = e.target.files;
            if (files.length > 0) {
                // Create file transfer cards
                files.forEach((file, index) => {
                    createTransferCard(file, index);
                });
                
                // Show success message
                showNotification(`Successfully selected ${files.length} file(s) for transfer!`, 'success');
            }
        });

        // Drag and drop functionality
        const uploadArea = document.querySelector('.upload-area');
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = 'rgba(255, 255, 255, 0.6)';
            uploadArea.style.background = 'rgba(255, 255, 255, 0.1)';
        });
        
        uploadArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = 'rgba(255, 255, 255, 0.2)';
            uploadArea.style.background = 'rgba(255, 255, 255, 0.02)';
        });
        
        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = 'rgba(255, 255, 255, 0.2)';
            uploadArea.style.background = 'rgba(255, 255, 255, 0.02)';
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                files.forEach((file, index) => {
                    createTransferCard(file, index);
                });
                showNotification(`Successfully dropped ${files.length} file(s) for transfer!`, 'success');
            }
        });

        // Create transfer card function
        function createTransferCard(file, index) {
            const transferContainer = document.getElementById('transfer');
            let transferList = transferContainer.querySelector('.transfer-list');
            
            if (!transferList) {
                transferList = document.createElement('div');
                transferList.className = 'transfer-list';
                transferList.style.cssText = `
                    margin-top: 20px;
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                `;
                transferContainer.appendChild(transferList);
            }
            
            const card = document.createElement('div');
            card.className = 'transfer-card';
            card.style.cssText = `
                background: rgba(255, 255, 255, 0.05);
                backdrop-filter: blur(10px);
                border-radius: 12px;
                padding: 20px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                display: flex;
                align-items: center;
                gap: 15px;
                animation: fadeInUp 0.5s ease-out;
            `;
            
            const fileIcon = document.createElement('div');
            fileIcon.style.cssText = `
                width: 50px;
                height: 50px;
                border-radius: 8px;
                background: linear-gradient(135deg, #0ea5e9, #2563eb);
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 20px;
            `;
            fileIcon.textContent = getFileIcon(file.type);
            
            const fileInfo = document.createElement('div');
            fileInfo.style.cssText = 'flex: 1;';
            
            const fileName = document.createElement('div');
            fileName.style.cssText = `
                color: white;
                font-weight: 600;
                font-size: 1rem;
                margin-bottom: 5px;
            `;
            fileName.textContent = file.name;
            
            const fileSize = document.createElement('div');
            fileSize.style.cssText = `
                color: rgba(255, 255, 255, 0.7);
                font-size: 0.85rem;
            `;
            fileSize.textContent = formatFileSize(file.size);
            
            const progressBar = document.createElement('div');
            progressBar.style.cssText = `
                width: 100%;
                height: 6px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 3px;
                overflow: hidden;
                margin-top: 10px;
            `;
            
            const progressFill = document.createElement('div');
            progressFill.style.cssText = `
                height: 100%;
                background: linear-gradient(90deg, #0ea5e9, #2563eb);
                border-radius: 3px;
                width: 0%;
                transition: width 0.3s ease;
            `;
            
            const statusText = document.createElement('div');
            statusText.style.cssText = `
                color: rgba(255, 255, 255, 0.8);
                font-size: 0.85rem;
                margin-top: 5px;
            `;
            statusText.textContent = 'Ready to transfer...';
            
            progressBar.appendChild(progressFill);
            fileInfo.appendChild(fileName);
            fileInfo.appendChild(fileSize);
            fileInfo.appendChild(progressBar);
            fileInfo.appendChild(statusText);
            
            card.appendChild(fileIcon);
            card.appendChild(fileInfo);
            transferList.appendChild(card);
            
            // Simulate transfer progress
            simulateTransfer(progressFill, statusText, file.size);
        }

        // Get file icon based on type
        function getFileIcon(type) {
            if (type.startsWith('image/')) return 'üñºÔ∏è';
            if (type.startsWith('video/')) return 'üé•';
            if (type.startsWith('audio/')) return 'üéµ';
            if (type.includes('pdf')) return 'üìÑ';
            if (type.includes('word') || type.includes('document')) return 'üìù';
            if (type.includes('zip') || type.includes('rar')) return 'üì¶';
            return 'üìÅ';
        }

        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Simulate transfer progress
        function simulateTransfer(progressFill, statusText, fileSize) {
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    statusText.textContent = 'Transfer completed!';
                    statusText.style.color = '#10b981';
                } else {
                    statusText.textContent = `Transferring... ${Math.round(progress)}%`;
                }
                progressFill.style.width = progress + '%';
            }, 200);
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'rgba(16, 185, 129, 0.9)' : 'rgba(59, 130, 246, 0.9)'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                z-index: 1000;
                animation: slideInRight 0.3s ease-out;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Simulate real-time updates
        setInterval(() => {
            const statValues = document.querySelectorAll('.stat-value');
            statValues.forEach(stat => {
                if (stat.textContent.includes('MB/s')) {
                    const currentSpeed = parseFloat(stat.textContent);
                    const newSpeed = (currentSpeed + (Math.random() - 0.5) * 2).toFixed(1);
                    stat.textContent = `${Math.max(0, newSpeed)} MB/s`;
                }
            });
        }, 3000);
    </script>
</body>
</html>